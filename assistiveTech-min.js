/*!
 * Accessibility Sniffer
 * Version: 0.1
 *
 * Copyright 2011, George Walters II
 * Licensed under MIT Version 2
 *
 * Date: Fri Aug 19 2011 8:58 AM -0500
 *
 */
var assistiveTech=(function(){"use strict";var c={version:0.1,cookieName:"assistiveTech",debug:false,divId:"assistiveTech",flashLocale:"/flash/assistiveTech.swf",flashVersion:"9",success:null,techAssist:false,writeAnalytics:null},self=this,getVersion=function(){return self.version},getCookieName=function(){return self.cookieName},getCookieValue=function(){var a=self.getCookie();return a[1]},init=function(a){var b;if(self.typeOf(a)==='object'){for(b in(a||{})){self.defaults[b]=a[b]}}if(!self.cookieExists()&&typeof swfobject.embedSWF!=="function"){self.loadSwfObject()}else if(!self.cookieExists()){self.generateFlash()}},flashSuccess=function(a){self.defaults.techAssist=(self.defaults.debug)?true:a;self.setCookie();if(self.typeOf(self.defaults.writeAnalytics)==="function"){self.defaults.writeAnalytics((self.defaults.techAssist?'Yes':'No'))}},loadSwfObject=function(){var a=this,body=document.getElementsByTagName("body")[0],script=document.createElement("script");script.type="text/javascript";script.src="//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js";script.onload=a.generateFlash;script.onreadystatechange=function(){if(this.readyState==="complete"){self.generateFlash()}};body.appendChild(script)},generateFlash=function(){var a=this;a.flashVars={callback:"assistiveTech.flashSuccess"};a.flashParams={quality:"low",allowScriptAccess:"all"};swfobject.embedSWF(self.defaults.flashLocale,self.defaults.divID,1,1,self.defaults.flashVersion,false,a.flashVars,a.flashParams,false,self.checkFlashInclusion)},checkFlashInclusion=function(a){if(document.getElementById(self.defaults.divID).type.indexOf("application/x-shockwave-flash")!==-1){document.getElementById(self.defaults.divID).focus();self.flashSuccess(a)}else{self.flashFailure()}},flashFailure=function(){var a=this,flashVersion=swfobject.getFlashPlayerVersion();if(self.defaults.debug==="true"){if(flashVersion&&(document.getElementById&&(flashVersion.major>0))){document.getElementById(self.defaults.replacementDiv).innerHTML="<p>This sample requires Flash Player version "+self.defaults.flashVersion+". You have Flash player "+flashVersion.major+"."+flashVersion.minor+"."+flashVersion.rev+" installed. <a href='http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash'>"+" Download the latest Flash Player</a> to run the sample.</p>"}}},typeOf=function(a){var s='null';if(a){if(typeof a==='object'&&typeof a.length==='number'&&!(a.propertyIsEnumerable('length'))&&typeof a.splice==='function'){s='array'}}return s},getCookie=function(){var a=document.cookie.split(';'),i=0,cookieData,cookieName;for(i;i<a.length;i=i+1){cookieData=cookieName=null;cookieData=a[i].split('=');cookieName=cookieData[0].replace(/^\s+|\s+$/g,'');if(cookieName===self.defaults.cookieName){return cookieData}}return false},cookieExists=function(){var a=self.getCookie(),existsFlag=false;if(self.defaults.debug==="true"){existsFlag=false}else if(a&&a.length>1){existsFlag=true}return existsFlag},setCookie=function(){var a=new Date(),expiresDate;a.setSeconds(0);a.setMinutes(0);a.setHours(0);a.setMonth(a.getMonth()+1);a.setDate(1);expiresDate=new Date(a);document.cookie=self.defaults.cookieName+"="+escape(self.defaults.techAssist)+"; expires="+expiresDate.toGMTString()+"; path=/"};return{init:init,flashSuccess:flashSuccess,getCookieName:getCookieName,getCookieValue:getCookieValue,getVersion:getVersion}}());