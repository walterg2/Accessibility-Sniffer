/*!
 * Accessibility Sniffer
 * Version: 0.1
 *
 * Copyright 2011, George Walters II
 * Licensed under MIT Version 2
 *
 * Date: Fri Aug 19 2011 8:58 AM -0500
 *
 */
var assistiveTech=(function(){"use strict";var c=this,appVersion=0.1,cookieName="assistiveTech",defaults={debug:false,divId:"assistiveTech",flashLocale:"/flash/assistiveTech.swf",flashVersion:"9",techAssist:false,callBack:null},getCookie=function(){var a=document.cookie.split(';'),i=0,cookieData,myCookieName;for(i;i<a.length;i=i+1){cookieData=myCookieName=null;cookieData=a[i].split('=');myCookieName=cookieData[0].replace(/^\s+|\s+$/g,'');if(myCookieName===cookieName){return cookieData}}return false},setCookie=function(){var a=new Date(),expiresDate;a.setSeconds(0);a.setMinutes(0);a.setHours(0);a.setMonth(a.getMonth()+1);a.setDate(1);expiresDate=new Date(a);document.cookie=defaults.cookieName+"="+escape(defaults.techAssist)+"; expires="+expiresDate.toGMTString()+"; path=/"},translateBoolean=function(a){return(a===true)?'Yes':'No'},flashSuccess=function(a){defaults.techAssist=(defaults.debug===true)?true:a;setCookie();if(typeof defaults.callBack==="function"){defaults.callBack(translateBoolean(defaults.techAssist))}},flashFailure=function(){var a=this,flashVersion=swfobject.getFlashPlayerVersion();if(defaults.debug==="true"){if(flashVersion&&(document.getElementById&&(flashVersion.major>0))){document.getElementById(defaults.replacementDiv).innerHTML="<p>This sample requires Flash Player version "+defaults.flashVersion+". You have Flash player "+flashVersion.major+"."+flashVersion.minor+"."+flashVersion.rev+" installed. <a href='http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash'>"+" Download the latest Flash Player</a> to run the sample.</p>"}}},checkFlashInclusion=function(a){var b=document.getElementById(defaults.divId);if(b.type.indexOf("application/x-shockwave-flash")!==-1){b.focus()}else{flashFailure()}},generateFlash=function(){var a={callback:"assistiveTech.flashSuccess"},flashParams={quality:"low",allowScriptAccess:"all"};swfobject.embedSWF(defaults.flashLocale,defaults.divId,1,1,defaults.flashVersion,false,a,flashParams,false,checkFlashInclusion)},loadSwfObject=function(){var a=this,body=document.getElementsByTagName("body")[0],script=document.createElement("script");script.type="text/javascript";script.src="//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js";script.onload=generateFlash;script.onreadystatechange=function(){if(this.readyState==="complete"){generateFlash()}};body.appendChild(script)},getVersion=function(){return appVersion},getCookieName=function(){return cookieName},getCookieValue=function(){var a=getCookie();return a[1]},cookieExists=function(){var a=getCookie(),existsFlag=false;if(defaults.debug==="true"){existsFlag=false}else if(a&&a.length>1){existsFlag=true}return existsFlag},init=function(a){var b;if(typeof a==='object'){for(b in(a||{})){defaults[b]=a[b]}}if(!cookieExists()){if(!window.swfobject){loadSwfObject()}else{generateFlash()}}else if(defaults.debug===true){loadSwfObject()}else{defaults.callBack(translateBoolean(getCookieValue()))}};return{init:init,cookieExists:cookieExists,flashSuccess:flashSuccess,getCookieName:getCookieName,getCookieValue:getCookieValue,getVersion:getVersion}}());